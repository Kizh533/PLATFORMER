# PLATFORMER
Платформер — это жанр компьютерных игр, в котором основу игрового процесса составляют прыжки по платформам, лазанье по лестницам, сбор предметов и сражения с противниками, которые необходимы для завершения уровней. Данная игра «Платформер» выполнена в соответствии с классическими установками ее жанра. В ней игроку предстоит сражаться с врагами, с помощью имеющегося у его персонажа оружия, подбирать монетки, прыгать по платформам, проходить уровни.

Алгоритм игры "Платформер" реализован в программе следующим образом:

1. Создание окна игры. При запуске программы создается окно игры, которое перемещает нас в главное меню. В нем для игрока написаны подсказки, которые помогут ему разобраться с тем, какие кнопки он может нажать для того или иного действия.

2. Главное меню. Находясь в главном меню, игрок может нажать на свою мышь и переместиться в основное игровое окно, а может выйти из игры нажатием клавиши Q.

3. Основное игровое окно. При переходе в основное игровое окно, программа инициализирует его и настраивает все необходимые для него компоненты, которые будут отвечать за последующий игровой процесс, начиная от переменных, контролирующих состояния персонажа игрока, заканчивая всеми объектами на карте. Затем она отрисовывает основное игровое окно и уже готова принимать команды пользователя.

4. Обновление объектов на карте. После этого программа постоянно обновляет все спрайты на карте и удерживает камеру на персонаже игрока, этот метод вызывается примерно 60 раз в секунду, именно он отвечает за плавность анимации объектов на карте.

5. Отслеживание команд пользователя. Каждый раз, когда пользователь нажимает ту или иную клавишу, которая отвечает за управление персонажем, программа отслеживает это и соответствующим образом изменяет положение спрайта игрока на карте, при нажатии клавиши E игрок может стрелять, поэтому при каждом ее нажатии игра отрисовывает спрайт пули, летящей в определенную сторону, в зависимости он направления, в которое смотрит персонаж игрока. Также при нажатии клавиши ESCAPE пользователь возвращается в главное меню.

6. Взаимодействие объектов на карте. В случае столкновения спрайта того или иного объекта с одним из слоев объектов на карте это столкновение учитывается в листе столкновений  этого объекта, что позволяет отслеживать, когда какой-либо объект взаимодействует с другим. Например, когда снаряд касается игрока или врага, то спрайт снаряда удаляется с игрового поля и у этого объекта отнимается соответствующее количество здоровья. Если его показатель здоровья <= 0, то спрайт объекта удаляется из списка спрайтов карты, то есть убирается с игрового поля. Если это был персонаж игрока, то пользователя переносит в меню возрождения (откуда он снова сможет попасть в основное игровое окно, либо выйти из игры), а если враг, то очки за его убийство начисляются игроку.

7. Переход на новый уровень. Для того чтобы игрок смог переместиться на следующий уровень, ему необходимо подобрать красный ключ в конце каждого уровня, вплоть до последнего. При столкновении персонажа игрока с этим ключом,  программа переносит игрока на следующий уровень, обновляя настройки основного игрового окна в соответствии с настройками следующего уровня.

8. Конечное окно. После того, как игрок дойдет до последнего уровня и убьет там своего единственного противника, программа сменит вид на конечное окно, из которого игрок сможет нажатием мыши перейти в главное меню, либо, нажав клавишу Q, выйти из игры.

В программе реализовано множество функций, методов и переменных, каждая из которых выполняет определенную задачу в игре «Платформер». Вот их описание:

1. `def main()`: Главная функция запуска игры
2. `def center_window(self)`: Функция для центрирования окна
3. `def __init__(self)`: Функция, которая вызывается при создании нового объекта класса. Она создаст атрибуты (переменные) нашего класса и установит для них значения по умолчанию.
4. `def on_draw(self)`: Функция для визуализации игрового окна.
5. `def on_show_view(self)`: Функция, вызывающаяся тогда, когда игра переключается на тот или иной вид, например: из игрового окна в главное меню.
6. `def setup(self)`: Функция, настраивающая основное игровое окно, вызывается, например, чтобы перезапустить основное игровое окно со следующего уровня.
7. `def on_mouse_press(self, _x, _y, _button, _modifiers)`: Функция, срабатывающая при нажатии игроком на клавишу мыши, используется, чтобы перейти из главного меню и окна смерти в игровое окно, а также из окна завершения игры в главное меню.
Аргументы, принимаемые функцией:
_x: x координата курсора мыши
_y: y координата курсора мыши
_button: нажатая кнопка
_modifiers: побитовое «и» всех модификаторов (shift, ctrl, num lock), нажатых во время этого события.
8. `def on_key_press(self, key, modifiers)`: Функция, срабатывающая всякий раз, когда пользователь нажимает кнопку клавиатуры.
Аргументы, принимаемые функцией:
key: клавиша, которая была нажата
modifiers: побитовое «и» всех модификаторов (shift, ctrl, num lock), нажатых во время этого события.
9. `def on_key_release(self, key, modifiers)`: Функция, срабатывающая всякий раз, когда пользователь отпускает кнопку клавиатуры.
Аргументы, принимаемые функцией:
key: клавиша, которая была отжата
modifiers: побитовое «и» всех модификаторов (shift, ctrl, num lock), нажатых во время этого события.
10. `def process_keychange(self)`: Функция, срабатывающая когда мы меняем клавишу вверх/вниз, поднимаемся/сходим с лестницы, ходим вправо или влево. Она также ограничивает нажатие смежных клавиш (вверх/вниз, вправо/влево), чтобы при нажатии 2 клавиш сразу персонаж не двигался.
11.	`def on_update(self, delta_time)`: - функция, обновляющая спрайты на карте (основном игровом окне), метод вызывается примерно 60 раз в секунду. Она вызывается каждый кадр и позволяет обновлять позиции объектов, анимацию, обработку взаимодействий и другие параметры, которые меняются со временем в игре.
Аргументы, принимаемые функцией:
delta_time (float): время, прошедшее с момента последнего обновления спрайтов, по умолчанию равно 1/60 секунды.
12.	`def center_camera_to_player(self, speed=0.2)`: - функция, фиксирующая камеру на игроке (его спрайте), с определенной скоростью передвижения к спрайту игрока, при его перемещении. Это полезно для того, чтобы игрок всегда оставался в центре экрана и мог корректно взаимодействовать с окружающим миром.
Аргументы, принимаемые функцией:
speed (float): это параметр, определяющий скорость перемещения камеры к игроку, чем выше значение speed, тем быстрее камера будет центрироваться на игроке.
13.	`def update_animation(self, delta_time: float = 1 / 60)`: Функция, которая используется для обновления состояния анимации объекта в игровом приложении, обновляет отображаемое изображение (спрайт), тем самым анимируя изменяемый объект. 
Аргументы, принимаемые функцией:
delta_time (float): время, прошедшее с момента последнего обновления анимации, по умолчанию равно 1/60 секунды, оно позволяет регулировать скорость анимации в зависимости от прошедшего времени.
14.	`def load_texture_pair(filename)`: Функция, которая помогает отзеркаливать изображения персонажей при ходьбе, прыжках и т.п. Функция load_texture_pair загружает и возвращает два объекта текстуры (texture) из файла изображения - один для обычной текстуры и другой для текстуры в зеркальном отражении. 
Эти текстуры далее могут использоваться для отображения объектов в игре.
Аргументы, принимаемые функцией:
filename: имя файла изображения, который нужно загрузить, этот аргумент необходим для указания пути к изображению, которое нужно загрузить в программу.


Видео, демонстрирующее механику и функционал игры: https://disk.yandex.ru/i/kXH9R_TrxY0mOw